<div class="bg-white">
  <!--
    Mobile menu

    Off-canvas menu for mobile, show/hide based on off-canvas menu state.
  -->
  <div class="relative z-40" role="dialog" [class.hidden]="!isVisible" aria-modal="true">
    <div class="fixed inset-0 bg-black bg-opacity-25"></div>

    <div class="fixed inset-0 z-40 flex">
      <!--
        Off-canvas menu, show/hide based on off-canvas menu state.

        Entering: "transition ease-in-out duration-300 transform"
          From: "-translate-x-full"
          To: "translate-x-0"
        Leaving: "transition ease-in-out duration-300 transform"
          From: "translate-x-0"
          To: "-translate-x-full"
      -->
      <div
        class="relative flex w-full max-w-xs flex-col overflow-y-auto bg-white pb-12 shadow-xl"
      >
        <div class="flex px-4 pb-2 pt-5">
          <button
            type="button"
            (click)="toggleMobileMenu()"
            class="-m-2 inline-flex items-center justify-center rounded-md p-2 text-gray-400"
          >
            <span class="sr-only">Close menu</span>
            <svg
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
        </div>

        <!-- Links -->
        <div class="mt-2">
          <!-- 'Men' tab panel, show/hide based on tab state. -->
      
         
          <div class="space-y-10 px-4 pb-8 pt-10">
            <div *ngIf="bestSellingProductsLoading">
              <ngx-skeleton-loader
                count="1"
                [theme]="{'width': '40%', 'height' : '16px', 'display' : 'block' }"
                appearance="line"
              ></ngx-skeleton-loader>
              <ngx-skeleton-loader
                count="3"
                [theme]="{'width': '70%', 'height' : '8px', 'display' : 'block' }"
                appearance="line"
              ></ngx-skeleton-loader>
            </div>  
            
            <div>
              <p
                id="men-clothing-heading-mobile"
                class="font-medium text-gray-900"
              >
                Best Selling Bouquets
              </p>
              <ul
                role="list"
                aria-labelledby="men-clothing-heading-mobile"
                class="mt-6 flex flex-col space-y-6"
              >
                <li
                  class="flow-root"
                  *ngFor="let bouquet of bestSellingProducts"
                >
                  <a href="#" class="-m-2 block p-2 text-gray-500">{{
                    bouquet?.product?.name
                  }}</a>
                </li>
              </ul>
            </div>

            <div *ngIf="bestSellingCategoriesLoading">
              <ngx-skeleton-loader
                count="1"
                [theme]="{'width': '40%', 'height' : '16px', 'display' : 'block' }"
                appearance="line"
              ></ngx-skeleton-loader>
              <ngx-skeleton-loader
                count="3"
                [theme]="{'width': '70%', 'height' : '8px', 'display' : 'block' }"
                appearance="line"
              ></ngx-skeleton-loader>
            </div>  

            <div>
              <p
                id="men-brands-heading-mobile"
                class="font-medium text-gray-900"
              >
                Best Selling Categories
              </p>
              <ul
                role="list"
                aria-labelledby="men-brands-heading-mobile"
                class="mt-6 flex flex-col space-y-6"
              >
                <li
                  class="flow-root"
                  *ngFor="let category of bestSellingCategories"
                >
                  <a href="#" class="-m-2 block p-2 text-gray-500">{{
                    category?.occasion?.type
                  }}</a>
                </li>
              </ul>
            </div>

            <div *ngIf="allCategoriesLoading">
              <ngx-skeleton-loader
                count="1"
                [theme]="{'width': '40%', 'height' : '16px', 'display' : 'block' }"
                appearance="line"
              ></ngx-skeleton-loader>
              <ngx-skeleton-loader
                count="3"
                [theme]="{'width': '70%', 'height' : '8px', 'display' : 'block' }"
                appearance="line"
              ></ngx-skeleton-loader>
            </div>  
            <div>
              <p
                id="men-brands-heading-mobile"
                class="font-medium text-gray-900"
              >
                All Categories
              </p>
              <ul
                role="list"
                aria-labelledby="men-brands-heading-mobile"
                class="mt-6 flex flex-col space-y-6"
              >
                <li class="flow-root" *ngFor="let category of allCategories">
                  <a href="#" class="-m-2 block p-2 text-gray-500">{{
                    category?.type
                  }}</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Desktop -->

  <header class="relative bg-white">
    <p
      class="flex h-10 items-center justify-center bg-primary px-4 text-sm font-medium text-white sm:px-6 lg:px-8"
    >
      Get free delivery on orders over $100
    </p>

    <nav aria-label="Top" class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="border-b border-gray-200">
        <div class="flex h-16 items-center">
          <!-- Mobile menu toggle, controls the 'mobileMenuOpen' state. -->
          <button
          (click)="toggleMobileMenu()"
            type="button"
            class="rounded-md bg-white p-2 text-gray-400 lg:hidden"
          >
            <span class="sr-only">Open menu</span>
            <svg
              class="h-6 w-6"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
              />
            </svg>
          </button>

          <!-- Logo -->
          <div class="ml-4 flex lg:ml-0">
            <a routerLink="/">
              <span class="sr-only">Vimbayi Elizabeth Fleurs</span>
              <img
                class="h-8 w-auto"
                src="assets/images/logo.png"
                alt=""
              />
            </a>
          </div>

          <!-- Flyout menus -->
          <div class="hidden lg:ml-8 lg:block lg:self-stretch">
            <div class="flex h-full space-x-8">
              <div class="flex">
                <div class="relative flex">
                  <!-- Item active: "border-indigo-600 text-indigo-600", Item inactive: "border-transparent text-gray-700 hover:text-gray-800" -->
                  <button
                  routerLink="/all-bouquets"
                    type="button"
                    class="border-transparent text-gray-700 hover:text-gray-800 relative z-10 -mb-px flex items-center border-b-2 pt-px text-sm font-medium transition-colors duration-200 ease-out"
                    aria-expanded="false"
                  >
                    Shop
                  </button>
                </div>

               
                <div class="absolute inset-x-0 top-full text-sm text-gray-500">
                  <!-- Presentational element used to render the bottom shadow, if we put the shadow on the actual panel it pokes out the top, so we use this shorter element to hide the top of the shadow -->
                  <div
                    class="absolute inset-0 top-1/2 bg-white shadow"
                    aria-hidden="true"
                  ></div>
                </div>
              </div>
            </div>
          </div>
          

          <div class="ml-auto flex items-center">
            <!-- Search -->

            <form class="hidden md:block">   
              <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only">Search</label>
              <div class="relative">
                  <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
                      <svg class="w-5 h-5 text-gray-500 " fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                  </div>
                  <input type="search" id="default-search" class="block p-4 pl-10 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary focus:border-primary " placeholder="Search Flowers" required>
                  <button type="submit" class="text-white absolute right-2.5 bottom-2.5 bg-primary hover:bg-lightPrimary focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2">Search</button>
              </div>
          </form>


            <div class="md:hidden flex lg:ml-6">
              <a href="#" class="p-2 text-gray-400 hover:text-gray-500">
                <span class="sr-only">Search</span>
                <svg
                  class="h-6 w-6"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
                  />
                </svg>
              </a>
            </div>

            <!-- Cart -->
            <div class="ml-4 flow-root lg:ml-6">
              <a routerLink="/cart" class="group -m-2 flex items-center p-2">
                <svg
                  class="h-6 w-6 flex-shrink-0 text-gray-400 group-hover:text-gray-500"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"
                  />
                </svg>
                <span
                  class="ml-2 text-sm font-medium text-gray-700 group-hover:text-gray-800"
                  >{{CurrentCartTotal}}</span
                >
                <span class="sr-only">items in cart, view bag</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>
</div>
